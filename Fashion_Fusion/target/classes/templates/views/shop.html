
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
<meta charset="UTF-8">
<meta name="description" content="Ogani Template">
<meta name="keywords" content="Ogani, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Ogani | Template</title>

<!-- Google Font -->
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<link
	href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap"
	rel="stylesheet">
<link href="/index/css/main.scss.css" rel="stylesheet" type="text/css"
	media="all">
<link href="/index/css/fonts.googleapis.css" rel="stylesheet"
	type="text/css" media="all">

<link href="/index/css/index.scss.css" rel="stylesheet" type="text/css">
<!-- Css Styles -->
<link rel="stylesheet" href="/details/css/bootstrap.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/font-awesome.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/elegant-icons.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/nice-select.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/jquery-ui.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/owl.carousel.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/slicknav.min.css"
	type="text/css">
<link rel="stylesheet" href="/view/css/style2.css" type="text/css">
<link href="/index/css/main.scss.css" rel="stylesheet" type="text/css"
	media="all">
<link rel="stylesheet" href="/view/css/style.css" type="text/css">
<link rel="stylesheet" href="/details/css/bootstrap.min.css"
	type="text/css">
<link rel="stylesheet" href="/view/css/style.css" type="text/css">
</head>

<style>
.sale-badge {
	position: absolute;
	top: 10px;
	right: 10px;
	padding: 5px 10px;
	background-color: red;
	color: white;
	font-weight: bold;
	border-style: dotted;
}

.btn {
	margin-bottom: 9px;
	margin-left: 20px;
}
</style>
<body>
	<div th:replace="views/menu :: menu"></div>

	<section class="product spad" style="background-color: #f5f5f5;">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-5">
					<div class="sidebar">
						<div class="sidebar__item">
							<h4>Department</h4>
							<ul>
								<li><a href="#">Fresh Meat</a></li>
								<li><a href="#">Vegetables</a></li>

							</ul>
						</div>
						<a data-toggle="collapse" data-target="#collapseThree">Khoảng
							Giá</a>br
						<div class="card">

							<div class="card-heading"></div>
							<div id="collapseThree" class="collapse show"
								data-parent="#accordionExample">
								<div class="card-body">
									<div class="shop__sidebar__price">
										<form action="/price_range" method="post">
											<div class="form-row">
												<div class="col-6">
													<input type="text" class="form-control" placeholder="$ từ"
														name="min" />
												</div>
												<div class="col-6">
													<input type="text" class="form-control" placeholder="$ đến"
														name="max" />
												</div>
											</div>
											<br />
											<div class="col-12">
												<div class="w-100">
													<button type="submit" class="btn btn-warning btn-block">Áp
														Dụng</button>
												</div>
											</div>
										</form>


									</div>
								</div>
							</div>
						</div>
						<br /> <br /> <b data-toggle="collapse" data-target="#content">Nơi
							Bán <svg style="width: 15px;" enable-background="new 0 0 11 11"
								viewBox="0 0 11 11" x="0" y="0"
								class="shopee-svg-icon icon-arrow-down">
								<g>
								<path
									d="m11 2.5c0 .1 0 .2-.1.3l-5 6c-.1.1-.3.2-.4.2s-.3-.1-.4-.2l-5-6c-.2-.2-.1-.5.1-.7s.5-.1.7.1l4.6 5.5 4.6-5.5c.2-.2.5-.2.7-.1.1.1.2.3.2.4z"></path></g></svg>
						</b>

						<!-- Collapsible content -->
						<div id="content" class="collapse">
							<br />
							<!-- Content to be expanded/collapsed -->
							<input type="checkbox" id="vehicle1" name="vehicle1" value="Bike">
							<label for="vehicle1"> I have a bike</label><br>
							<!-- Button to close the collapsible content -->
							<b data-toggle="collapse" data-target="#content">Đóng</b>
						</div>
						<br /> <br />
						<div class="sidebar__item sidebar__item__color--option">
							<h4>Colors</h4>
							<div class="sidebar__item__color sidebar__item__color--white">
								<label for="white"> White <input type="radio" id="white">
								</label>
							</div>
							<div class="sidebar__item__color sidebar__item__color--gray">
								<label for="gray"> Gray <input type="radio" id="gray">
								</label>
							</div>
							<div class="sidebar__item__color sidebar__item__color--red">
								<label for="red"> Red <input type="radio" id="red">
								</label>
							</div>
							<div class="sidebar__item__color sidebar__item__color--black">
								<label for="black"> Black <input type="radio" id="black">
								</label>
							</div>
							<div class="sidebar__item__color sidebar__item__color--blue">
								<label for="blue"> Blue <input type="radio" id="blue">
								</label>
							</div>
							<div class="sidebar__item__color sidebar__item__color--green">
								<label for="green"> Green <input type="radio" id="green">
								</label>
							</div>
						</div>
						<div class="sidebar__item">
							<h4>Popular Size</h4>
							<div class="sidebar__item__size">
								<label for="large"> Large <input type="radio" id="large">
								</label>
							</div>
							<div class="sidebar__item__size">
								<label for="medium"> Medium <input type="radio"
									id="medium">
								</label>
							</div>
							<div class="sidebar__item__size">
								<label for="small"> Small <input type="radio" id="small">
								</label>
							</div>
							<div class="sidebar__item__size">
								<label for="tiny"> Tiny <input type="radio" id="tiny">
								</label>
							</div>
						</div>

					</div>
				</div>
				<div class="col-lg-9 col-md-7">
					<div class="product__discount">


						<div class="filter__item">

							<div class="section-title product__discount__title"
								th:if="${title}">
								<h4 style="color: #b31a1a; text-align: center;"
									th:text="${title}"></h4>
							</div>




							<div class="row">
								<div class="shop__product__option">


									<div class="shop__product__option__right">
										<p></p>
										<select onchange="myPage(this.value)">
											<option>Sắp Xếp Theo Giá</option>
											<option value="ASC">Từ Thấp Đến Cao</option>
											<option value="DESC">Từ Cao Đến Thấp</option>

										</select>
									</div>


								</div>

								<div class="col-lg-4 col-md-4">
									<div class="filter__found">
										<h6>
											Tổng <span th:text="${session.listPro.numberOfElements}"></span>
											/<span
												th:text="${session.listPro.totalElements +' Sản
												Phẩm '}">
										</h6>
									</div>
								</div>

							</div>
						</div>

						<div class="products-view products-view-grid list_hover_pro">
							<div class="row">
								<th:block th:each="item : ${session.listPro}">
									<div class="col-lg-3 col-md-6 col-sm-6 mb-4">
										<div class="item_product_main" style="width: 200px;">
											<form action="/cart/add" method="post"
												class="variants product-action" data-cart-form=""
												data-id="product-actions-26182932"
												enctype="multipart/form-data">
												<div class="product-thumbnail">
													<a class="image_thumb scale_hover"
														th:href="@{/shop_info/{id}(id=${item.id})}"
														style="height: 218px;"> <img class="lazyload"
														th:src="@{'/images/' + ${item.img}}"
														data-src="//bizweb.dktcdn.net/thumb/large/100/455/315/products/1-jpeg.jpg?v=1653279682177"
														alt="${item.name}"> <span class="sale-badge"
														th:if="${item.checkSale}"
														th:text="${'-'+item.sale_percent +'%'}"></span> <!-- Thêm phần tử chứa chữ "Sale" --></a>
													<div class="action d-xl-flex d-none">
														<input class="hidden" type="hidden" name="variantId"
															value="65670147">
														<button class="btn-cart btn-views" title="Tùy chọn"
															type="button">
															<a th:href="@{/add-to-cart/{id}(id=${item.id})}">Thêm
																Vào Giỏ Hàng</a>
														</button>
													</div>
												</div>
												<div class="product-info">
													<h3 class="product-name">
														<a href="/ao-khoac-tre-em" th:title="${item.name}"
															th:text="${item.name}"></a>
													</h3>
													<!-- tính giá -->
													<div class="price-box">
														<p th:if="${item.checkSale()}">
															<span th:text="${item.price}"></span>&nbsp;<span
																class="compare-price"
																th:text="${item.originalPrice+ 'đ'}"></span>
														</p>
														<p th:unless="${item.checkSale()}"
															th:text="${item.price + 'đ'}"></p>
													</div>


													<!-- tính dã bán  -->
													<th:block th:if="${item.in_stock > 0}"
														th:with="count=${#aggregates.sum(item.details.![is_completed ? quantity : 0])}"
														th:class="${count != null ? 'sold-out' : 'not-sold-out'}">
														<p
															th:text="${  count != null ? 'Đã Bán ' + count : '0 Đã Bán'}"></p>
													</th:block>
													<th:block th:unless="${item.in_stock > 0}" class="sold-out">
														<b style="color: red" th:text="${'Đã Bán Hết'}"></b>
													</th:block>
													
												</div>
											</form>
										</div>
									</div>
									<!-- Kiểm tra số lượng sản phẩm hiện tại và chia hàng khi cần -->

								</th:block>
							</div>
						</div>


						<th:block
							th:if="${session.listPro != null and session.listPro.totalElements &gt; 0}">
							<!-- Hiển thị phân trang -->
							<nav aria-label="Page navigation example">
								<ul class="pagination">
									<li class="page-item"
										th:class="${session.listPro.number == (i - 1)} ? 'active' : ''"
										th:each="i : ${#numbers.sequence(1, session.listPro.totalPages)}">
										<a class="page-link"
										th:href="@{|/${url}/|} + ${i-1} +'?'+ ${query}" th:text="${i}"></a>
									</li>
								</ul>
							</nav>
						</th:block>

						<th:block
							th:unless="${session.listPro != null and session.listPro.totalElements &gt; 0}">
							<!-- Hiển thị thông báo không có dữ liệu -->
							<h2 style="text-align: center; color: red;">Không Có Dữ Liệu
								Bạn Cần Tìm</h2>
						</th:block>
					</div>
				</div>
			</div>
	</section>

	<script type="text/javascript">
		if (window.location.href.endsWith('/page')) {
			window.location.href = '/page/0';
		}
	</script>
	<!-- Js Plugins -->
	<script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>

	<script src="/details/js/jquery-3.3.1.min.js"></script>

	<script src="/details/js/jquery.nice-select.min.js"></script>
	<script src="/details/js/jquery-ui.min.js"></script>
	<script src="/details/js/jquery.slicknav.js"></script>
	<script src="/details/js/mixitup.min.js"></script>
	<script src="/details/js/owl.carousel.min.js"></script>
	<script src="/details/js/main.js"></script>
	<script src="/view/ajax/getPage.js"></script>

</body>

</html>