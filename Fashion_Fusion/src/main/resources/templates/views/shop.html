
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">


<head>
<meta charset="UTF-8">
<meta name="description" content="Ogani Template">
<meta name="keywords" content="Ogani, unica, creative, html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Ogani | Template</title>

<!-- Google Font -->
<script
	src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>
<link
	href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300;400;600;900&display=swap"
	rel="stylesheet">
<link href="/index/css/main.scss.css" rel="stylesheet" type="text/css"
	media="all">
<link href="/index/css/fonts.googleapis.css" rel="stylesheet"
	type="text/css" media="all">

<link href="/index/css/index.scss.css" rel="stylesheet" type="text/css">
<!-- Css Styles -->
<link rel="stylesheet" href="/details/css/bootstrap.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/font-awesome.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/elegant-icons.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/nice-select.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/jquery-ui.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/owl.carousel.min.css"
	type="text/css">
<link rel="stylesheet" href="/details/css/slicknav.min.css"
	type="text/css">
<link rel="stylesheet" href="/view/css/style2.css" type="text/css">
<link href="/index/css/main.scss.css" rel="stylesheet" type="text/css"
	media="all">
<link rel="stylesheet" href="/view/css/style.css" type="text/css">
<link rel="stylesheet" href="/details/css/bootstrap.min.css"
	type="text/css">
<link rel="stylesheet" href="/view/css/style.css" type="text/css">
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.3.2/lazysizes.min.js"></script>

</head>

<style>
.sale-badge {
	position: absolute;
	top: 10px;
	right: 2px;
	padding: 5px 10px;
	background-color: red;
	color: white;
	font-weight: bold;
	border-style: dotted;
}

.btn {
	margin-bottom: 9px;
}

ul {
	list-style-type: none;
	padding: 0;
}

li {
	margin-bottom: 10px;
}

.new-badge {
	background-color: yellow;
	color: black;
	font-weight: bold;
	padding: 5px;
	position: absolute;
	margin-top: 10px;
}

.highlight {
	background-color: yellow;
}

.container {
	padding-left: initial;
	padding-right: initial;
}
</style>
<body>
	<div th:replace="views/menu :: menu"></div>

	<section class="product spad" style="background-color: #f5f5f5;">
		<div class="container">
			<div class="row">
				<div class="col-lg-3 col-md-5">
					<div class="sidebar">
						<div class="sidebar__item">
							<br />

							<h4>Theo Danh Mục</h4>
							<ul>
								<li><a
									th:href="@{/getCatogery/__${(i != null && i.isPresent()) ? '0' : '0'}__/{cato}(cato='1')}"
									title="Quần áo" class="a3"> Quần áo </a></li>

								<li><a href="/giay-dep"
									th:href="@{/getCatogery/__${(i != null && i.isPresent()) ? '0' : '0'}__/{cato}(cato='2')}"
									title="Giày dép" class="a3"> Giày dép </a></li>

								<li><a href="/be-gai"
									th:href="@{/getCatogery/__${(i != null && i.isPresent()) ? '0' : '0'}__/{cato}(cato='16')}"
									title="Bé gái" class="a3">Mũ Nón</a></li>
								<li><a href="/be-trai"
									th:href="@{/getCatogery/__${(i != null && i.isPresent()) ? '0' : '0'}__/{cato}(cato='17')}"
									title="Bé trai" class="a3">Ba Lô Túi Xách</a></li>
							</ul>
						</div>
						<a data-toggle="collapse" data-target="#collapseThree">Khoảng
							Giá</a> <br />
						<div class="card" id="targetDiv">

							<div class="card-heading"></div>
							<div id="collapseThree" class="collapse show"
								data-parent="#accordionExample">
								<div class="card-body">
									<div class="shop__sidebar__price">
										<form action="/PriceRange" method="post">
											<div class="form-row">
												<div class="col-6">
													<input type="text" class="form-control" placeholder="$ từ"
														name="min" onkeydown="handleBackspace(event, this)"
														th:value="${min}" oninput="validateNumberInput(this)"
														required="required" />
													<!--oninput k cho nhập chữ-->
												</div>
												<div class="col-6">
													<input type="text" class="form-control"
														oninput="validateNumberInput(this)"
														onkeydown="handleBackspace(event, this)" th:value="${max}"
														placeholder="$ đến" name="max" required="required" />



												</div>
											</div>
											<br />
											<div class="col-12">
												<div class="w-100">
													<button type="submit" class="btn btn-warning btn-block">Áp
														Dụng</button>
												</div>
											</div>
										</form>


									</div>
								</div>
							</div>
						</div>
						<br /> <br />
						<div class="sidebar__item">

							<h4>Sắp Xếp Theo Giá</h4>
						</div>
						<br />
						<p onclick="myPage('ALL')">Tất Cả</p>
						<p value="DESC" onclick="myPage('ASC')">Từ Thấp Đến Cao</p>
						<p value="ASC" onclick="myPage('DESC')">Từ Cao Đến Thấp</p>


						<!--<select onchange="myPage(this.value)" th:value="${filterSelect}">
							<option>Sắp Xếp Theo Giá</option>
							<option value="ASC"
								th:selected="${filterSelect == 'ASC' ? 'selected' : null}">Từ
								Thấp Đến Cao</option>
							<option value="DESC"
								th:selected="${filterSelect == 'DESC' ? 'selected' : null}">Từ
								Cao Đến Thấp</option>


						</select>
-->


						<br /> <br />
						<div class="sidebar__item sidebar__item__color--option">
							<h4>Giới Hạn Giá</h4>
							<ul>
								<li onclick="PriceRange('Dưới 500,000')">Dưới 500,000 VND</li>
								<li onclick="PriceRange('1,000,000 - 2,000,000')">1,000,000
									- 2,000,000</li>
								<li onclick="PriceRange('2,000,000 - 3,000,000')">2,000,000
									- 3,000,000</li>
								<li onclick="PriceRange('3,000,000 - 4,000,000')">3,000,000
									- 4,000,000</li>
								<li onclick="PriceRange('4,000,000 - 5,000,000')">4,000,000
									- 5,000,000</li>
								<li onclick="PriceRange('Trên 5,000,000')">Trên 5,000,000</li>
							</ul>
						</div>

						<!--<div class="sidebar__item__color sidebar__item__color--gray">
								<label for="gray"> Gray <input type="radio" id="gray">
								</label>
							</div>-->
					</div>
				</div>
				<div class="col-lg-9 col-md-7" id="col-lg-9">
					<div class="product__discount">


						<div class="filter__item">
							<br /> <br />
							<!--<div class="section-title product__discount__title">
								

							</div>-->

							<div th:if="${message} " style="display: flex;">
								<svg viewBox="0 0 18 24" class="shopee-svg-icon icon-hint-bulb">
								<g transform="translate(-355 -149)">
								<g transform="translate(355 149)">
								<g fill-rule="nonzero" transform="translate(5.4 19.155556)">
								<path
										d="m1.08489412 1.77777778h5.1879153c.51164401 0 .92641344-.39796911.92641344-.88888889s-.41476943-.88888889-.92641344-.88888889h-5.1879153c-.51164402 0-.92641345.39796911-.92641345.88888889s.41476943.88888889.92641345.88888889z"></path>
								<g transform="translate(1.9 2.666667)">
								<path
										d="m .75 1.77777778h2.1c.41421356 0 .75-.39796911.75-.88888889s-.33578644-.88888889-.75-.88888889h-2.1c-.41421356 0-.75.39796911-.75.88888889s.33578644.88888889.75.88888889z"></path></g></g>
								<path
										d="m8.1 8.77777718v4.66666782c0 .4295545.40294373.7777772.9.7777772s.9-.3482227.9-.7777772v-4.66666782c0-.42955447-.40294373-.77777718-.9-.77777718s-.9.34822271-.9.77777718z"
										fill-rule="nonzero"></path>
								<path
										d="m8.1 5.33333333v.88889432c0 .49091978.40294373.88888889.9.88888889s.9-.39796911.9-.88888889v-.88889432c0-.49091977-.40294373-.88888889-.9-.88888889s-.9.39796912-.9.88888889z"
										fill-rule="nonzero"></path>
								<path
										d="m8.80092773 0c-4.86181776 0-8.80092773 3.97866667-8.80092773 8.88888889 0 1.69422221.47617651 3.26933331 1.295126 4.61333331l2.50316913 3.9768889c.30201078.4782222.84303623.7697778 1.42482388.7697778h7.17785139c.7077799 0 1.3618277-.368 1.7027479-.9617778l2.3252977-4.0213333c.7411308-1.2888889 1.1728395-2.7786667 1.1728395-4.37688891 0-4.91022222-3.9409628-8.88888889-8.80092777-8.88888889m0 1.77777778c3.82979317 0 6.94810087 3.18933333 6.94810087 7.11111111 0 1.24444441-.3168334 2.43022221-.9393833 3.51466671l-2.3252977 4.0213333c-.0166754.0284444-.0481735.0462222-.0833772.0462222h-7.07224026l-2.43461454-3.8648889c-.68184029-1.12-1.04128871-2.4053333-1.04128871-3.71733331 0-3.92177778 3.11645483-7.11111111 6.94810084-7.11111111"></path></g></g></svg>
								&nbsp;&nbsp;&nbsp;

								<p style="color: #b31a1a; text-align: center;"
									th:text="${'Kết quả tìm kiếm cho '+message}"></p>
							</div>
							<div class="row">


								<!--<div class="col-lg-4 col-md-4">
									<div class="filter__found">
										<h6>
											Tổng <span th:text="${session.listPro.numberOfElements}"></span>
											/<span
												th:text="${session.listPro.totalElements +' Sản
												Phẩm '}">
										</h6>
									</div>
								</div>
-->
							</div>
						</div>

						<div class="products-view products-view-grid list_hover_pro"
							id="sss">
							<div class="row">
								<th:block th:each="item : ${session.listPro}">
									<div class="col-lg-3 col-md-6 col-sm-6 mb-4">
										<div class="item_product_main" style="width: 200px;">
											<form action="/cart/add" method="post"
												class="variants product-action" data-cart-form=""
												data-id="product-actions-26182932"
												enctype="multipart/form-data">
												<div class="product-thumbnail">
													<a class="image_thumb scale_hover"
														th:href="@{/shop_info/{id}(id=${item.id})}"
														style="height: 218px;"> <img class="lazyload"
														th:src="@{'/images/' + ${item.img}}"
														data-th:src="@{'/images/' + ${item.img}}"
														alt="${item.name}"> <span class="sale-badge"
														th:if="${item.checkSale}"
														th:text="${'-'+item.sale_percent +'%'}"></span> <span
														class="new-badge" th:if="${item.checkProNew()}"
														th:text="${'new'}"></span> <!-- Thêm phần tử chứa chữ "Sale" --></a>
													<div class="action d-xl-flex d-none">
														<input class="hidden" type="hidden" name="variantId"
															value="65670147">
														<button style="background-color: aquamarine;"
															class="btn-cart btn-views" title="Tùy chọn" type="button">
															<a th:href="@{/add-to-cart/{id}(id=${item.id})}"
																style="color: black">Thêm Vào Giỏ Hàng</a>
														</button>
													</div>
												</div>
												<div class="product-info">
													<h3 class="product-name">
														<a th:href="@{/shop_info/{id}(id=${item.id})}"
															th:title="${item.name}" th:text="${item.name}"></a>
													</h3>
													<!-- tính giá -->

													<div class="price-box">
														<p th:if="${item.checkSale()}">
															<span th:text="${item.price}"></span>&nbsp;<span
																class="compare-price"
																th:text="${item.originalPrice } + 'đ'"></span>

														</p>
														<p th:unless="${item.checkSale()}"
															th:text="${item.price + 'đ'}"></p>
													</div>


													<!-- tính dã bán  -->
													<th:block th:if="${item.in_stock > 0}"
														th:with="count=${#aggregates.sum(item.details.![order_status == 'HoanThanh'? quantity : 0])}"
														th:class="${count != null ? 'sold-out' : 'not-sold-out'}">
														<p
															th:text="${  count != null ? 'Đã Bán ' + count : '0 Đã Bán'}"></p>
													</th:block>
													<th:block th:unless="${item.in_stock > 0}" class="sold-out">
														<b style="color: red" th:text="${'Đã Bán Hết'}"></b>
													</th:block>

												</div>
											</form>
										</div>
									</div>
									<!-- Kiểm tra số lượng sản phẩm hiện tại và chia hàng khi cần -->

								</th:block>
							</div>
						</div>

						<br /> <br />
						<th:block
							th:if="${session.listPro != null and session.listPro.totalElements &gt; 0}">
							<!-- Hiển thị phân trang -->
							<nav aria-label="Page navigation example"
								th:class="${session.listPro.totalPages > 15} ? 'pagination-large' : 'pagination-small'">
								<!-- Nội dung phân trang -->
							</nav>


							<ul class="pagination">
								<th:block th:if="${session.listPro.number >= 1}">
									<li class="page-item"><a class="page-link"
										th:href="${session.listPro.number - 1}">Trước</a></li>
								</th:block>
								<th:block th:if="${session.listPro.number >= 10 -1 }">
									<li class="page-item"><a class="page-link" th:href="${1 }">1...</a></li>
								</th:block>
								<li class="page-item"
									th:each="currentPage : ${#numbers.sequence(session.listPro.number - 4, session.listPro.number + 5)}"
									th:if="${currentPage >= 1 and currentPage <= session.listPro.totalPages}"
									th:class="${session.listPro.number == currentPage  -1  } ? 'page-item active' : 'page-item'">
									<a class="page-link"
									th:href="@{|/${url}/|} + ${currentPage - 1} + ${query == null ? '' : '?'+query} + ${queryPath == null ? '' : '/'+queryPath}"
									th:text="${currentPage  }"></a>
								</li>


								<th:block
									th:if="${session.listPro.number < session.listPro.totalPages - 10}">
									<li class="page-item"><a class="page-link"
										th:href="${session.listPro.totalPages}"
										th:text="${'...' +session.listPro.totalPages}"></a></li>
								</th:block>
								<th:block
									th:if="${session.listPro.number <= session.listPro.totalPages - 2}">
									<li class="page-item"><a class="page-link"
										th:href="${session.listPro.number + 1}">Tiếp </a></li>
								</th:block>
							</ul>

							</nav>
						</th:block>

						<th:block
							th:unless="${session.listPro != null and session.listPro.totalElements &gt; 0}">
							<!-- Hiển thị thông báo không có dữ liệu -->
							<h2 style="text-align: center; color: red;">Không Có Dữ Liệu
								Bạn Cần Tìm</h2>
						</th:block>
					</div>
				</div>
			</div>
	</section>
	<div th:replace="views/footer :: footer"></div>
	<script type="text/javascript">
		if (window.location.href.endsWith('/page')) {
			window.location.href = '/page/0';
		}

		// Sử dụng JavaScript để loại bỏ thuộc tính background-color
		var targetDiv = document.getElementById("targetDiv");
		targetDiv.style.backgroundColor = "initial";
	</script>
	<!-- Js Plugins -->
	<script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>

	<script src="/details/js/jquery-3.3.1.min.js"></script>

	<script src="/details/js/jquery.nice-select.min.js"></script>
	<script src="/details/js/jquery-ui.min.js"></script>
	<script src="/details/js/jquery.slicknav.js"></script>
	<script src="/details/js/mixitup.min.js"></script>
	<script src="/details/js/owl.carousel.min.js"></script>
	<script src="/details/js/main.js"></script>
	<script src="/view/ajax/getPage.js"></script>

</body>

</html>